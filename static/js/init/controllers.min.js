!function(){"use strict";function e(e,r,n,t,o,a,s,i,u,l,c,p,_,d,f,g,b,h,m,k,y,w){if(e.queue_resource=_,e.prehired_employee_info=y,e.queue_stack_resource=f,e.applied_blueprints_resource=g,e.user=d,e.blueprint=a,e.salary=i,e.type=u,e.visa_status=l,e.sent_mail=!1,e.has_applied=!1,e.is_icruited=!1,e.has_accepted=!1,e.has_interview=!1,e.is_hired=!1,e.blueprint_in_queue=!1,e.reached_max_queue=!1,e.published=e.blueprint.is_published,e.published&&(e.editable=!1),e.published||(e.editable=!0),angular.forEach(e.type,function(r,n){r.id===e.blueprint.related_job_type&&(e.job_type=r)}),angular.forEach(e.salary,function(r,n){r.id===e.blueprint.related_salary&&(e.job_salary=r)}),angular.forEach(e.visa_status,function(r,n){r.id===e.blueprint.related_visa_status&&(e.visa_status_info=r)}),e.blueprint_queue=[],angular.forEach(e.queue_resource,function(r,n){e.queue_resource[n].stacks=[],angular.forEach(r.stack,function(r,t){angular.forEach(e.queue_stack_resource,function(t,o){r===t.id&&e.queue_resource[n].stacks.push(t)}),e.user.profile_type||(e.current_queue=e.queue_resource[n].stacks[e.queue_resource[n].stacks.length-1].candidate_position)}),r.blueprint===e.blueprint.id&&(e.blueprint_queue.push(r),e.blueprint_in_queue=!0)}),!e.user.profile_type&&!angular.isUndefined(e.blueprint_queue[0])&&!angular.isUndefined(e.blueprint_queue[0].stacks[1])){var v=e.blueprint_queue[0].stacks[1];e.has_interview=v.has_interview,e.is_icruited=v.has_icruited,e.has_accepted=v.has_accepted,e.has_applied=v.has_applied,e.current_queue_id=v.id,e.current_candidate=v.candidate}e.SendMail=function(r){if(angular.isUndefined(e.blueprint_queue[0].stacks[1]))console.log("no persons in que");else{var n=e.blueprint_queue[0].stacks[1].candidate,t=e.blueprint_queue[0].stacks[1].id,o=angular.element($("#accept-interview-btn")),a=angular.element($("#reject-interview-btn")),s=angular.element(r.target),i={blueprint:e.blueprint.id,user:n,stack:t},u=angular.element($("#detail-img")),l=angular.element($("#simulator-results"));s.css({display:"none"}),o.css({display:"block"}),a.css({display:"block"}),u.css({display:"none"}),l.css({display:"block"}),angular.forEach(e.applied_blueprints_resource,function(r,t){r.blueprint===e.blueprint.id&&r.candidate===n&&(console.log(r.simulator_results),console.log("reviewing results"))}),m.save(i,function(r){e.data=r.data},function(r){e.errors=r.data})}},e.inviteToInterview=function(){if(angular.isUndefined(e.blueprint_queue[0].stacks[1]))console.log("no persons in que");else{var r={que_stack:e.blueprint_queue[0].stacks[1].id,blueprint_id:e.blueprint.id,user_id:e.user.id};k.save(r,function(r){e.data=r.data,setTimeout(function(){o.location.reload()},500)},function(r){e.errors=r.data})}},e.deleteBlueprint=function(){c.delete({name_slug:e.blueprint.name_slug},function(r){e.data=r.data,setTimeout(function(){t.go("root.dashboard",{reload:!0})},500)},function(r){e.errors=r.data})},e.updateBlueprint=function(){c.update({name_slug:e.blueprint.name_slug},e.blueprint,function(r){e.data=r.data,setTimeout(function(){t.go("root.dashboard",{reload:!0}),o.location.reload()},500)},function(r){e.errors=r.data})},e.publishBlueprint=function(){e.blueprint.is_published=!0,c.update({name_slug:e.blueprint.name_slug},e.blueprint,function(r){e.data=r.data,setTimeout(function(){t.go("root.dashboard",{reload:!0}),o.location.reload()},500)},function(r){e.errors=r.data,setTimeout(function(){t.go("root.dashboard",{reload:!0}),o.location.reload()},500)});var r={blueprint:e.blueprint.id};p.save(r,function(r){e.queue_response=r.data},function(r){e.errors=r.data}),setTimeout(function(){t.go("root.dashboard",{reload:!0}),o.location.reload()},500)},e.previewBlueprint=function(){e.published=!0},e.editBlueprint=function(){e.published=!1},e.hireEmployee=function(){w.save({blueprint:e.blueprint.id,employee:e.current_candidate},function(r){e.data=r.data},function(r){e.errors=r.data}),h.delete({id:e.current_queue_id},function(r){e.data=r.data,e.is_icruited=!1,e.has_applied=!1,e.has_interview=!1,e.has_accepted=!1},function(r){e.errors=r.data})},e.user.profile_type&&(e.people_in_queue=e.blueprint_queue[0].stacks[e.blueprint_queue[0].stacks.length-1].candidate_position,e.has_applied=!1,e.is_icruited=!1,e.has_accepted=!1,e.has_interview=!1,e.is_hired=!1,e.can_apply=e.blueprint.has_simulator,e.has_applied_in_queue=!1,angular.forEach(e.queue_resource,function(r,n){r.blueprint===e.blueprint.id&&angular.forEach(r.stacks,function(r,n){r.candidate===e.user.id&&(e.current_queue=r.candidate_position,e.current_queue_id=r.id,e.has_applied_in_queue=r.has_applied,e.is_icruited=r.has_icruited,e.has_accepted=r.has_accepted,e.has_interview=r.has_interview,e.is_hired=r.is_hired)})})),angular.forEach(e.applied_blueprints_resource,function(r,n){e.has_interview||e.is_icruited||e.has_applied_in_queue||r.blueprint!==e.blueprint.id||r.candidate!==e.user.id||(e.has_applied=!0,e.applied_bluprint_name_slug=r.name_slug)}),e.applyForBlueprint=function(){e.apply_for_blueprint_data={related_candidate:e.user.id,related_blueprint:e.blueprint.id},b.save(e.apply_for_blueprint_data,function(r){o.location.reload(),e.sent_mail=!0},function(r){e.errors=r.data,e.reached_max_queue_error=e.errors.error,e.reached_max_queue=!0})},e.unapplyFromBlueprint=function(){b.delete({name_slug:e.applied_bluprint_name_slug},function(r){e.has_applied=!1,setTimeout(function(){o.location.reload()},500)},function(r){e.errors=r.data})},e.exitQueue=function(){h.delete({id:e.current_queue_id},function(r){e.data=r.data,e.is_icruited=!1,e.has_applied=!1,e.has_interview=!1,e.has_accepted=!1,t.go("root.dashboard",{reload:!0})},function(r){e.errors=r.data})},e.onInterview=function(){o.open("https://www.google.com","_blank")},e.$emit("metaTagsChanged",{title:e.blueprint.name,description:e.blueprint.description}),r.image="",e.closeErrorCanvasDetails=function(){e.reached_max_queue&&(e.reached_max_queue=!1)}}angular.module("app").controller("BluprintDetailsCtrl",e),e.$inject=["$scope","$rootScope","$cookies","$state","$window","JobFeed","UserInfoRes","SalaryInfo","JobType","VisaStatusInfo","JobFeedsRes","QueueRes","QueueInfo","UserInfo","QueueStackInfo","AppliedBlueprintsInfo","AppliedBlueprintsRes","QueueStackRes","ReviewResultsRes","PrehiredEmpRes","PrehiredEmpInfo","HiredEmpRes"]}(),function(){"use strict";function e(e,r,n){e.$on("metaTagsChanged",function(e,t){r.title=t.title,r.description=t.description,r.location=n.path()})}angular.module("app").controller("SeoCtrl",e),e.$inject=["$scope","$rootScope","$location"]}(),function(){"use strict";function e(e,r,n){e.home="/"==r.path(),e.$on("$stateChangeSuccess",function(){e.home="/"==r.path()})}angular.module("app").controller("HomeAbstractCtrl",e),e.$inject=["$scope","$location","$window"]}(),function(){"use strict";function e(e,r,n,t,o,a,s,i,u,l,c,p,_,d,f,g,b,h,m,k,y,w,v,q,I,E,T,j,C,U,x){if(e.hired_employee_info=U,e.queue_resource=T,e.applied_blueprints_resource=C,e.queue_stack_resource=j,e.make_blueprint={},e.user=i,e.desired_employees_info=I,e.industry_info=u,e.location_info=l,e.salary_info=c,e.experience_info=p,e.company_type_info=_,e.wait_interval_info=d,e.on_job_success_info=f,e.job_type_info=g,e.job_duration_info=b,e.experience_level_info=h,e.blueprint_tasks_info=m,e.blueprint_tasks=e.blueprint_tasks_info,e.blueprint_resource=s,e.blueprints=[],e.not_closed_blueprints=[],e.closed_blueprints=[],e.preferenced_filters=[],e.show_closed_jobs=!1,e.show_accepted_jobs=!1,e.show_applied_jobs=!1,e.show_icruited_jobs=!1,e.show_has_interview=!1,e.show_is_hired=!1,e.show_new_jobs=!0,e.show_new_jobs_icruited=!0,e.show_new_jobs_interview=!0,e.show_hired_jobs=!0,e.industryIncludes=[],e.locationIncludes=[],e.salaryIncludes=[],e.experienceIncludes=[],e.tupleJobsState=function(){e.show_closed_jobs?(e.show_closed_jobs=!1,e.blueprints=e.not_closed_blueprints):(e.show_closed_jobs=!0,e.blueprints=e.closed_blueprints)},e.user.profile_type?(angular.forEach(e.queue_resource,function(r,n){e.queue_resource[n].stacks=[],e.queue_resource[n].full_stacks=[],e.queue_resource[n].accepted_stacks=[],e.queue_resource[n].applied_stacks=[],e.queue_resource[n].icruited_stacks=[],e.queue_resource[n].interview_stacks=[],e.queue_resource[n].hired_stacks=[],e.queue_resource[n].new_job_stacks=[],angular.forEach(e.blueprint_resource,function(t,o){r.blueprint===t.id&&(e.queue_resource[n].blueprints=t)}),angular.forEach(e.location_info,function(r,t){e.queue_resource[n].blueprints.related_location===r.id&&(e.queue_resource[n].blueprints.current_location=r.location)}),angular.forEach(e.salary_info,function(r,t){e.queue_resource[n].blueprints.related_salary===r.id&&(e.queue_resource[n].blueprints.salary_range=r.sal_range)}),angular.forEach(r.stack,function(r,t){angular.forEach(e.queue_stack_resource,function(t,o){r===t.id&&e.queue_resource[n].full_stacks.push(t),r===t.id&&t.has_accepted&&e.queue_resource[n].accepted_stacks.push(t),r===t.id&&t.has_applied&&e.queue_resource[n].applied_stacks.push(t),r!==t.id||t.has_applied||e.queue_resource[n].new_job_stacks.push(t),r===t.id&&t.has_icruited&&e.queue_resource[n].icruited_stacks.push(t),r===t.id&&t.has_interview&&e.queue_resource[n].interview_stacks.push(t),r===t.id&&t.is_hired&&e.queue_resource[n].hired_stacks.push(t)})}),e.queue_resource[n].stacks=e.queue_resource[n].full_stacks}),e.blueprints=[],e.hired_blueprints=[],e.old_res=e.queue_resource,angular.isUndefined(e.hired_employee_info[0])?angular.forEach(e.queue_resource,function(r,n){e.blueprints.push(r)}):angular.forEach(e.queue_resource,function(r,n){angular.forEach(e.hired_employee_info,function(n,t){r.blueprint===n.blueprint&&n.employee===e.user.id?e.hired_blueprints.push(r):e.blueprints.push(r)})}),e.queue_resource=e.blueprints,e.user.preference_filter?(angular.isUndefined(e.user.preference_filter.industryIncludes)&&(e.user.preference_filter.industryIncludes=[]),angular.isUndefined(e.user.preference_filter.locationIncludes)&&(e.user.preference_filter.locationIncludes=[]),angular.isUndefined(e.user.preference_filter.salaryIncludes)&&(e.user.preference_filter.salaryIncludes=[]),angular.isUndefined(e.user.preference_filter.experienceIncludes)&&(e.user.preference_filter.experienceIncludes=[]),e.user.preference_filter.industryIncludes&&angular.forEach(e.user.preference_filter.industryIncludes,function(r,n){e.FilterIndustry(r)}),e.user.preference_filter.locationIncludes&&angular.forEach(e.user.preference_filter.locationIncludes,function(r,n){e.FilterLocation(r)}),e.user.preference_filter.salaryIncludes&&angular.forEach(e.user.preference_filter.salaryIncludes,function(r,n){e.FilterSalary(r)}),e.user.preference_filter.experienceIncludes&&angular.forEach(e.user.preference_filter.experienceIncludes,function(r,n){e.FilterExperience(r)})):e.user.preference_filter=[]):(angular.forEach(e.blueprint_resource,function(r,n){e.user.id!==r.related_user||r.is_closed||e.not_closed_blueprints.push(r),e.user.id===r.related_user&&r.is_closed&&e.closed_blueprints.push(r)}),angular.forEach(e.queue_resource,function(r,n){e.queue_resource[n].stacks=[],angular.forEach(r.stack,function(r,t){angular.forEach(e.queue_stack_resource,function(t,o){r===t.id&&e.queue_resource[n].stacks.push(t)})})}),e.show_closed_jobs?(angular.forEach(e.closed_blueprints,function(r,n){e.closed_blueprints[n].queue_pos={},angular.forEach(e.queue_resource,function(t,o){r.is_published&&Number(t.blueprint)===Number(r.id)&&(e.closed_blueprints[n].queue_pos=t.stacks[t.stacks.length-1].candidate_position)}),angular.isNumber(e.closed_blueprints[n].queue_pos)||(e.closed_blueprints[n].queue_pos="-")}),angular.forEach(e.closed_blueprints,function(r,n){angular.forEach(e.salary_info,function(t,o){r.related_salary===t.id&&(e.closed_blueprints[n].salary_range=t.sal_range)}),angular.forEach(e.location_info,function(t,o){r.related_location===t.id&&(e.closed_blueprints[n].current_location=t.location)})}),e.blueprints=e.closed_blueprints):(angular.forEach(e.not_closed_blueprints,function(r,n){e.not_closed_blueprints[n].queue_pos={},angular.forEach(e.queue_resource,function(t,o){r.is_published&&Number(t.blueprint)===Number(r.id)&&(e.not_closed_blueprints[n].queue_pos=t.stacks[t.stacks.length-1].candidate_position)}),angular.isNumber(e.not_closed_blueprints[n].queue_pos)||(e.not_closed_blueprints[n].queue_pos="-")}),angular.forEach(e.not_closed_blueprints,function(r,n){angular.forEach(e.salary_info,function(t,o){r.related_salary===t.id&&(e.not_closed_blueprints[n].salary_range=t.sal_range)}),angular.forEach(e.location_info,function(t,o){r.related_location===t.id&&(e.not_closed_blueprints[n].current_location=t.location)})}),e.blueprints=e.not_closed_blueprints)),e.tupleAppliedJobs=function(){e.show_new_jobs?(e.blueprints=[],e.make_tmp_blueprints=[],angular.forEach(e.applied_blueprints_resource,function(r,n){angular.forEach(e.queue_resource,function(t,o){if(t.blueprint!==r.blueprint&&r.candidate===e.user.id&&(console.log("here"),e.make_tmp_blueprints[n]={},e.make_tmp_blueprints[n].blueprints=t.blueprints,e.make_tmp_blueprints[n].stacks=[],e.make_tmp_blueprints[n].stacks=t.stacks),t.blueprint===r.blueprint&&r.candidate===e.user.id)return console.log("found same"),""})}),e.blueprints=e.make_tmp_blueprints,e.show_new_jobs=!1):(e.blueprints=[],angular.forEach(e.queue_resource,function(r,n){void 0!==e.queue_resource[n].new_job_stacks&&e.blueprints.push(r)}),e.show_new_jobs=!0)},e.tupleICruitedJobs=function(){e.show_new_jobs_icruited?(e.blueprints=[],angular.forEach(e.queue_resource,function(r,n){angular.forEach(r.stacks,function(n,t){n.candidate===e.user.id&&n.has_icruited&&e.blueprints.push(r)})}),e.show_new_jobs_icruited=!1):(e.blueprints=[],angular.forEach(e.queue_resource,function(r,n){void 0!==e.queue_resource[n].new_job_stacks&&e.blueprints.push(r)}),e.show_new_jobs_icruited=!0)},e.tupleInterviewJobs=function(){e.show_new_jobs_interview?(e.blueprints=[],angular.forEach(e.applied_blueprints_resource,function(r,n){angular.forEach(e.queue_resource,function(n,t){r.candidate===e.user.id&&r.blueprint===n.blueprints.id&&angular.forEach(n.stacks,function(r,t){r.has_interview&&e.blueprints.push(n)})})}),e.show_new_jobs_interview=!1):(e.blueprints=[],angular.forEach(e.queue_resource,function(r,n){void 0!==e.queue_resource[n].new_job_stacks&&e.blueprints.push(r)}),e.show_new_jobs_interview=!0)},e.tupleHiredJobs=function(){e.show_hired_jobs?(e.blueprints=e.hired_blueprints,e.show_hired_jobs=!1):(e.blueprints=[],angular.forEach(e.queue_resource,function(r,n){void 0!==e.queue_resource[n].new_job_stacks&&e.blueprints.push(r)}),e.show_hired_jobs=!0)},e.visa_status_info=k,e.user_list_info=y,e.make_blueprint_tasks=[],e.make_blueprint={related_user:e.user.id},e.user_list=[],angular.forEach(e.user_list_info,function(r,n){r.profile_type&&e.user_list.push(r)}),e.FilterIndustry=function(r){var n=$.inArray(r,e.industryIncludes);n>-1?(e.industryIncludes.splice(n,1),e.user.preference_filter.industryIncludes.splice(n,1)):(e.industryIncludes.push(r),e.user.preference_filter.industryIncludes.push(r)),x.update(e.user)},e.industryFilter=function(r){if(e.user.profile_type){if(e.industryIncludes.length>0&&$.inArray(r.blueprints.related_industry,e.industryIncludes)<0)return;return r}if(!(e.industryIncludes.length>0&&$.inArray(r.related_industry,e.industryIncludes)<0))return r},e.FilterLocation=function(r){var n=$.inArray(r,e.locationIncludes);n>-1?e.locationIncludes.splice(n,1):e.locationIncludes.push(r)},e.locationFilter=function(r){if(e.user.profile_type){if(e.locationIncludes.length>0&&$.inArray(r.blueprints.related_location,e.locationIncludes)<0)return;return r}if(!(e.locationIncludes.length>0&&$.inArray(r.related_location,e.locationIncludes)<0))return r},e.FilterSalary=function(r){var n=$.inArray(r,e.salaryIncludes);n>-1?e.salaryIncludes.splice(n,1):e.salaryIncludes.push(r)},e.salaryFilter=function(r){if(e.user.profile_type){if(e.salaryIncludes.length>0&&$.inArray(r.blueprints.related_salary,e.salaryIncludes)<0)return;return r}if(!(e.salaryIncludes.length>0&&$.inArray(r.related_salary,e.salaryIncludes)<0))return r},e.FilterExperience=function(r){var n=$.inArray(r,e.experienceIncludes);n>-1?e.experienceIncludes.splice(n,1):e.experienceIncludes.push(r)},e.experienceFilter=function(r){if(e.user.profile_type){if(e.experienceIncludes.length>0&&$.inArray(r.blueprints.related_experience,e.experienceIncludes)<0)return;return r}if(!(e.experienceIncludes.length>0&&$.inArray(r.related_experience,e.experienceIncludes)<0))return r},t.get("token")||(console.log("not found"),setTimeout(function(){n.go("root.home",{reload:!0})},600)),e.$emit("metaTagsChanged",a),r.image="",e.work_env1=!0,e.work_env2=!1,e.upload=function(r){r&&w.upload({url:"/api/work-enviorment/",file:r}).success(function(r,n,t,o){e.make_blueprint.work_enviorment=r.image,e.preview=r.image,e.errors=null,e.work_env1=!1,e.work_env2=!0}).errors(function(r,n,t,o){e.errors=r})},e.upload2=function(r){r&&w.upload({url:"/api/work-enviorment2/",file:r}).success(function(r,n,t,o){e.make_blueprint.work_enviorment2=r.image,e.preview=r.image,e.errors=null}).errors(function(r,n,t,o){e.errors=r})},e.temp_tasks=[],e.enable_assign=!0,e.enable_add=!1,e.list_blueprint_tasks=[],e.addTask=function(r){e.no_employee_task_errors=!1,angular.isUndefined(e.new_employee[0])?(e.no_employee_task_errors=!0,e.no_employee_task_error="Please select employees for task first."):(e.temp_tasks.push(r),e.temp_tasks.push(e.new_employee),e.list_blueprint_tasks.push(e.temp_tasks),e.new_employee=[],e.temp_tasks=[],e.enable_add=!0)},e.removeTask=function(r){angular.forEach(e.list_blueprint_tasks,function(n,t){n.name===r&&e.list_blueprint_tasks.splice(t,1)})},t.get("blueprint")){var S=t.get("blueprint");e.make_blueprint=angular.fromJson(S),t.remove("blueprint")}e.new_employee=[],e.createBlueprint=function(){e.no_task_errors=!1,e.no_employee_errors=!1,angular.isUndefined(e.list_blueprint_tasks[0])?(e.no_task_errors=!0,e.no_task_error="Please select task for this blueprint."):(angular.forEach(e.list_blueprint_tasks,function(r,n){angular.isUndefined(r[1][0])&&(e.no_employee_errors=!0,e.no_employee_error="Please select employee for task first.")}),e.no_task_errors||e.no_employee_errors||(angular.isUndefined(e.make_blueprint.work_enviorment)?(e.no_work_env_errors=!0,e.no_work_env_error="Please add work environment picture."):angular.isUndefined(e.make_blueprint.work_enviorment2)?(e.no_work_env_errors=!0,e.no_work_env_error="Please add another work environment picture."):(e.send_blueprint=[],e.send_blueprint.push(e.make_blueprint),e.send_blueprint.push({tasks:e.list_blueprint_tasks}),v.save(e.send_blueprint,function(e){setTimeout(function(){o.location.reload()},500)},function(r){e.field_errors=!0,e.field_error="Please fill all blueprint fields."}))))},e.closeErrorCanvas=function(){e.no_employee_task_errors&&(e.no_employee_task_errors=!1),e.no_task_errors&&(e.no_task_errors=!1),e.no_employee_errors&&(e.no_employee_errors=!1),e.no_work_env_errors&&(e.no_work_env_errors=!1),e.field_errors&&(e.field_errors=!1)},e.desiredEmployee={},e.createDesiredEmployee=function(){var r=new Date,n=angular.toJson(e.make_blueprint);r.setDate(r.getTime()+1),t.put("blueprint",n,{expires:r}),q.save(e.desiredEmployee,function(r){e.data=r.data,setTimeout(function(){o.location.reload()},500)},function(r){e.errors=r.data})},e.addEmployeeId=function(r){var n=$.inArray(r,e.new_employee);n>-1?e.new_employee.splice(n,1):e.new_employee.push(r)},e.newBlueprintTask={},e.createBlueprintTask=function(){var r=new Date,n=angular.toJson(e.make_blueprint);r.setDate(r.getTime()+1),t.put("blueprint",n,{expires:r}),E.save(e.newBlueprintTask,function(e){setTimeout(function(){o.location.reload()},500)},function(r){e.errors=r.data})}}angular.module("app").controller("DashboardCtrl",e),e.$inject=["$scope","$rootScope","$state","$cookies","$window","metaTags","BluePrints","UserInfo","IndustryInfo","LocationInfo","SalaryInfo","ExperienceInfo","CompanyTypeInfo","WaitIntervalInfo","OnJobSuccessInfo","JobTypeInfo","JobDurationInfo","ExperienceLevelInfo","BlueprintTasksInfo","VisaStatusInfo","UserListInfo","Upload","CreateBlueprintRes","DesiredEmployeeRes","DesiredEmployeesInfo","BlueprintTasksRes","QueueInfo","QueueStackInfo","AppliedBlueprintsInfo","HiredEmpInfo","UserInfoRes"]}(),function(){"use strict";function e(e,r,n,t){e.activatedTab=1,e.setActivatedTab=function(r){e.activatedTab=r},e.help=n,e.$emit("metaTagsChanged",t),r.image=""}angular.module("app").controller("HelpCtrl",e),e.$inject=["$scope","$rootScope","Help","metaTags"]}(),function(){"use strict";function e(e,r,n){e.$emit("metaTagsChanged",n),r.image=""}angular.module("app").controller("HomeCtrl",e),e.$inject=["$scope","$rootScope","metaTags"]}(),function(){"use strict";function e(e,r,n,t,o,a,s,i){e.$emit("metaTagsChanged",o),e.test_pilots=a,e.reg={},e.complete=!1,e.page_1=!0,e.page_2=!1,e.page_3=!1,e.page_4=!1,e.page_5=!1,e.page_6=!1,e.total_pages="6",e.page_1&&(e.current_page="1"),e.profile_types=[{profile_type:!0,label:"JobSeeker"},{profile_type:!1,label:"Employer"}],e.prevPage=function(){e.page_2&&(e.page_2=!1,e.page_1=!0,e.current_page="1"),e.page_3&&(e.page_3=!1,e.page_2=!0,e.current_page="2"),e.page_4&&(e.page_4=!1,e.page_3=!0,e.current_page="3"),e.page_5&&(e.page_5=!1,e.page_4=!0,e.current_page="4"),e.page_6&&(e.page_6=!1,e.page_5=!0,e.current_page="5")},e.checkUsername=function(){e.reg.username?i.save(e.reg,function(r){e.errors=!0,e.error="User with this username already exists."},function(r){e.errors=!1,e.page_1=!1,e.page_2=!0,e.current_page="2"}):(e.errors=!0,e.error="Please fill username")},e.checkEmail=function(){e.reg.email?(e.log={},e.log.username=e.reg.email,s.save(e.log,function(r){e.errors=!0,e.error="User with this email address already exists."},function(r){e.errors=!1,e.page_2=!1,e.page_3=!0,e.current_page="3"})):(e.error="Please fill email address",e.errors=!0)},e.checkProfileType=function(){angular.isDefined(e.reg.profile_type)?(e.errors=!1,e.page_3=!1,e.page_4=!0,e.current_page="4"):(e.errors=!0,e.error="Please select profile type.")},e.checkPassword=function(){e.reg.password?(e.errors=!1,e.page_5=!1,e.page_6=!0,e.current_page="6"):(e.errors=!0,e.error="Please input password.")},e.checkMobile=function(){e.reg.mobile_number?(e.errors=!1,e.page_4=!1,e.page_5=!0,e.current_page="5"):(e.errors=!0,e.error="Please input valid mobile number.")},e.registration=function(){e.reg.confirm_password?(e.errors=!1,e.is_pilot=!1,angular.forEach(e.test_pilots,function(r){r.email===e.reg.email&&(e.is_pilot=!0)}),e.is_pilot?t.save(e.reg,function(r){e.complete=!0,e.data=r},function(r){e.errors=r.data}):n.go("root.non_pilot",{reload:!0})):(e.errors=!0,e.error="Please confirm password.")},r.image=""}angular.module("app").controller("RegisterCtrl",e),e.$inject=["$scope","$rootScope","$state","AuthRes","metaTags","Pilots","CheckUserRes","CheckUserNameRes"]}(),function(){"use strict";function e(e,r,n,t,o,a){e.page_1=!0,e.page_2=!1,e.page_1&&(e.current_page="1"),e.page_2&&(e.current_page="2"),e.total_pages="2",e.log={},e.errors=!1,e.prevPage=function(){e.page_1=!0,e.page_2=!1,e.current_page="1",e.errors&&(e.errors=!1)},e.checkuser=function(){e.log.username?a.save(e.log,function(r){e.page_1=!1,e.page_2=!0,e.current_page="2",e.errors&&(e.errors=!1)},function(e){400===e.status?setTimeout(function(){n.go("root.register",{reload:!0})},600):setTimeout(function(){n.go("root.dashboard",{reload:!0})},600)}):(e.error="Please fill email address",e.errors=!0)},e.login=function(){function r(r){400===r.status?(e.errors=!0,e.error="Wrong password"):(o.jwt(e.log.username,e.log.password),setTimeout(function(){n.go("root.dashboard",{reload:!0})},500),$(".progress").css({width:"100%"}))}function a(r){e.errors=r.data,e.logged_in=!1}t.login(e.log.username,e.log.password).then(r,a)},r.image=""}angular.module("app").controller("LoginCtrl",e),e.$inject=["$scope","$rootScope","$state","LoginRes","JWTTokenRes","CheckUserRes"]}(),function(){"use strict";function e(e,r,n,t,o){e.user=o.query(),e.user.user_company=!1,e.user.is_superuser&&(e.user.user_company=!0),e.logoutNow=function(){function e(e){r.go("root.home"),setTimeout(function(){n.location.reload()},600)}function o(e){return e}t.logout().then(e,o)}}angular.module("app").controller("LogoutCtrl",e),e.$inject=["$scope","$state","$window","LogoutRes","UserInfoRes"]}(),function(){"use strict";function e(e,r,n,t,o,a){r.$emit("metaTagsChanged",t),r.user_info=o,r.updateProfile=function(){a.update(r.user_info,function(e){r.data=e,n.go("root.dashboard",{reload:!0})},function(e){r.errors=e.data})},e.image=""}angular.module("app").controller("ProfileCtrl",e),e.$inject=["$rootScope","$scope","$state","metaTags","UserInfo","UserInfoRes"]}(),function(){"use strict";function e(e,r,n,t,o,a,s){function i(r){p=!0,e.activation_done=p,t.go("root.home",{reload:!0}),setTimeout(function(){n.location.reload()},700),e.data=r.data}function u(r){p=!1,e.activation_done=p,e.errors=r.data}e.$emit("metaTagsChanged",o);var l=a.split("?")[0],c=a.split("?")[1],p=!1;s.activate(l,c).then(i,u),r.image=""}angular.module("app").controller("ActivationCtrl",e),e.$inject=["$scope","$rootScope","$window","$state","metaTags","params","ActivationRes"]}(),function(){"use strict";function e(e,r,n,t,o){e.$emit("metaTagsChanged",o),e.backToHome=function(){n.go("root.home",{reload:!0}),setTimeout(function(){t.location.reload()},700)},r.image=""}angular.module("app").controller("NonPilotCtrl",e),e.$inject=["$scope","$rootScope","$state","$window","metaTags"]}(),function(){"use strict";function e(e,r,n){e.$emit("metaTagsChanged",{title:n.name,description:"Preview employer video intro"}),e.blueprint=n,r.image=""}angular.module("app").controller("IntroCtrl",e),e.$inject=["$scope","$rootScope","JobFeed"]}(),function(){"use strict";function e(e,r,n,t,o){e.$emit("metaTagsChanged",{title:"Simulator Updater",description:"Manual updating simulator performances, reviews."}),e.simulator_update=t,e.updated=!1,e.completed_simulation=[{value:!0,label:"Has Completed"},{value:!1,label:"Has Not Completed"}],e.failed_simulation=[{value:!0,label:"Has Failed"},{value:!1,label:"Has Not Failed"}],e.Update=function(){o.update({name_slug:e.simulator_update.name_slug},e.simulator_update,function(r){e.data=r,e.updated=!0,n.go("root.dashboard",{reload:!0})},function(r){e.errors=r.data})},r.image=""}angular.module("app").controller("SimulatorUpdateCtrl",e),e.$inject=["$scope","$rootScope","$state","UpdateSim","AppliedBlueprintsRes"]}();