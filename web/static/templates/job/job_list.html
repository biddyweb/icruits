
<div class="container-wrap">
    <div class="menu-wrap">
        <nav id="sidemenu" class="menu">
            <div class="icon-list">
                <h3>Filter</h3>
                <a type="button" class="menu-item" data-toggle="collapse" data-target="#industry">Industry Type</a>
                <div id="industry" class="collapse dropdown-fix">
                    <div ng-repeat="ind in industry_info">
                        <label>
                            <input type="checkbox" class="faChkRnd" ng-click="FilterIndustry(ind.id)"/><span class="checkbox-label">{{ ind.type_industry }}</span></br/>
                        </label>
                    </div>
                </div>
                <a type="button" class="menu-item" data-toggle="collapse" data-target="#location">Job Location</a>
                <div id="location" class="collapse dropdown-fix">
                    <div ng-repeat="loc in location_info">
                        <label>
                            <input type="checkbox" class="faChkRnd" ng-click="FilterLocation(loc.id)"/><span class="checkbox-label">{{ loc.location }}</span></br/>
                        </label>
                    </div>
                </div>
                <a type="button" class="menu-item" data-toggle="collapse" data-target="#Salary">Salary Range</a>
                <div id="Salary" class="collapse dropdown-fix">
                    <div ng-repeat="sal in salary_info">
                        <label>
                            <input type="checkbox" class="faChkRnd" ng-click="FilterSalary(sal.id)"/><span class="checkbox-label">{{ sal.sal_range }}</span></br/>
                        </label>
                    </div>
                </div>
                <a type="button" class="menu-item" data-toggle="collapse" data-target="#Experience">Experience Level</a>
                <div id="Experience" class="collapse dropdown-fix">
                    <div ng-repeat="exp in experience_info">
                        <label>
                            <input type="checkbox" class="faChkRnd" ng-click="FilterExperience(exp.id)"/><span class="checkbox-label">{{ exp.experience_level }}</span></br/>
                        </label>
                    </div>
                </div>
            </div>
        </nav>
    </div>
    <span id="open-button" class="menu-white"><span class="label" style="color: rgb(0,0,0);">FILTER</span> </span>
    <a id="user-nav" class="userNav" onclick="openNav()"><i class="fa fa-user"></i></a>
    <div id="userContent" class="userContainer" ng-controller='LogoutCtrl'>
        <a id="btn-2" ng-click="logoutNow()" class="userNavBtn">Logout</a>
    </div>

    <div class="content-wrap">
        <div class="content">
            <nav class="dashHeader text-center navbar navbar-default fixed top"><span>ICRUITS</span></nav>
            <section id="dashboard" style="margin-top: 75px;">
                <div class="containerSub cf">
                    <div class="row">
                        <div class="col-sm-3" 
                             data-ng-repeat="JobFeed in blueprints | filter:industryFilter | filter:locationFilter | filter:salaryFilter | filter:experienceFilter">
                            <div class="job-item text-center">
                                <div class="hover-bg hover-bg-articles">
                                    <a data-ui-sref="root.blueprint({name_slug: JobFeed.name_slug})">
                                        <!--img class="img-responsive"
                                                data-ng-src="{{ JobFeed.image }}" alt=""-->
                                        <div class="hover-text">
                                            <span class="lead" data-ng-bind="JobFeed.max_queue"></span>
                                        </div>
                                        <img class="img-circle img-thumbnail" src="">
                                        <span class="nohover center-block" data-ng-bind="JobFeed.name"></span>
                                        <span class="nohover center-block" data-ng-bind="user.related_profile_type"></span>
                                        <span class="hover company center-block" data-ng-bind="JobFeed.company_name"></span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <a id="filter-btn" onclick="openBigNav()" ng-show="!user.profile_type">
                    <span>
                        Blueprint
                    </span>
                    <span class="hover">
                        Blueprint
                    </span>
                </a>
            </section>
        </div>
    </div>
</div>

<!-- FULLSCREEN NAV -->
<div id="myNav" class="overlay-offcanvas">
    <a href="javascript:void(0)" class="closebtn" onclick="closeBigNav()">&times; </a>
    <span class="label-close">CLOSE</span>
    <a id="apply-btn" class="hide-button">
        <span id="apply-span" class="hide-button">
            Apply
        </span>
        <span id="apply-span-2" class="hover hide-button">
            Apply
        </span>
    </a>
    <a id="advanced-btn" class="hide-button">
        <span id="advanced-span" class="hide-button">
            Advanced
        </span>
        <span id="advanced-span-2" class="hover hide-button">
            Advanced
        </span>
    </a>
        <div class="blueprintContainer">
            <div class="row">
                <span class="new blueprintLabel"> Blueprint Name </span>
                <input type="text" 
                       class="form-control blueprintInput" 
                       name="name"
                       style="width: 150px; display: inline;" 
                       ng-model="make_blueprint.name"
                       required>
                <span class="new blueprintLabel"> Company Name </span>
                <input type="text" 
                       name="company name"
                       class="form-control blueprintInput"
                       style="width: 150px; display: inline;" 
                       ng-model="make_blueprint.company_name"
                       required>
                <span class="new blueprintLabel"> Qualification </span>
                <input type="text" 
                       class="form-control blueprintInput"
                       name="professional qualifications"
                       style="width: 150px; display: inline;" 
                       ng-model="make_blueprint.professional_qualifications"
                       required>
                <span class="new blueprintLabel"> Industry </span>
                <select class="form-control blueprintInput" 
                        name="job_industry"
                        ng-model="make_blueprint.related_industry"
                        ng-options="option.id*1 as option.type_industry for option in industry_info">
                    <option value="" ng-show="false"></option>
                </select>
                <span class="new blueprintLabel"> Employer Size </span>
                <select class="form-control blueprintInput" 
                        name="employer_size"
                        ng-model="make_blueprint.related_company_type"
                        ng-options="option.id*1 as option.types_of_company for option in company_type_info">
                    <option value="" ng-show="false"></option>
                </select>
                <span class="new blueprintLabel"> Job Function </span>
                <input type="text" 
                       name="job function"
                       class="form-control"
                       style="width: 150px; display: inline;" 
                       ng-model="make_blueprint.function" 
                       required>
                <span class="new blueprintLabel"> Experience </span>
                <select class="form-control blueprintInput" 
                        name="experience info"
                        ng-model="make_blueprint.related_experience"
                        ng-options="option.id*1 as option.experience_level for option in experience_info">
                    <option value="" ng-show="false"></option>
                </select>
                <span class="new blueprintLabel"> Location </span>
                <select class="form-control blueprintInput" 
                        name="location info"
                        ng-model="make_blueprint.related_location"
                        ng-options="option.id*1 as option.location for option in location_info">
                    <option value="" ng-show="false"></option>
                </select>
                <span class="new blueprintLabel" style="margin-top: 20px;"> Job Type </span>
                <select class="form-control blueprintInput" 
                        name="job type"
                        ng-model="make_blueprint.related_job_type"
                        ng-options="option.id*1 as option.employment for option in job_type_info">
                    <option value="" ng-show="false"></option>
                </select>
                <span class="new blueprintLabel"> Job Duration </span>
                <select class="form-control blueprintInput" 
                        name="job duration"
                        ng-model="make_blueprint.related_job_duration"
                        ng-options="option.id*1 as option.job_duration for option in job_duration_info">
                    <option value="" ng-show="false"></option>
                </select>
                <span class="new blueprintLabel" style="margin-top: 20px;"> On Success </span>
                <select class="form-control blueprintInput" 
                        name="On success"
                        ng-model="make_blueprint.related_on_success"
                        ng-options="option.id*1 as option.success for option in on_job_success_info">
                    <option value="" ng-show="false"></option>
                </select>
                <span class="new blueprintLabel"> Team ID </span>
                <input type="text" 
                       name="team id"
                       style="width: 150px; display: inline;" 
                       class="form-control"
                       ng-model="make_blueprint.team_id" 
                       required>
                <span class="new blueprintLabel"> Wait Interval </span>
                <select class="form-control blueprintInput" 
                        name="wait interval"
                        ng-model="make_blueprint.related_wait_interval"
                        ng-options="option.id*1 as option.response_time for option in wait_interval_info">
                    <option value="" ng-show="false"></option>
                </select>
                <span class="new blueprintLabel"> Salary Range </span>
                <select class="form-control blueprintInput" 
                        name="salary range"
                        ng-model="make_blueprint.related_salary"
                        ng-options="option.id*1 as option.sal_range for option in salary_info">
                    <option value="" ng-show="false"></option>
                </select>
                <span class="new blueprintLabel" style="margin-top: 20px;"> Practice Limit </span>
                <input type="number" 
                       name="practice limit"
                       style="width: 150px; display: inline;" 
                       class="form-control"
                       ng-model="make_blueprint.practice_limit" 
                       required>
                <span class="new blueprintLabel"> Remote Work </span>
                <input type="text" 
                       name="remote work"
                       style="width: 150px; display: inline;" 
                       class="form-control"
                       ng-model="make_blueprint.remote_work" 
                       required>
                <span class="new blueprintLabel"> Visa Status </span>
                <select class="form-control blueprintInput" 
                        name="visa status"
                        ng-model="make_blueprint.related_visa_status"
                        ng-options="option.id*1 as option.visa for option in visa_status_info">
                    <option value="" ng-show="false"></option>
                </select>
                <span class="new blueprintLabel"> Max Queue </span>
                <input type="number" 
                       name="max queue"
                       style="width: 150px; display: inline;" 
                       class="form-control"
                       ng-model="make_blueprint.max_queue" 
                       required>
                <span class="new blueprintLabel"> Download Url </span>
                <input type="text" 
                       name="download url"
                       style="width: 150px; display: inline;" 
                       class="form-control"
                       ng-model="make_blueprint.url" 
                       required>
                <span class="new blueprintLabel"> Blueprint Tasks </span>
                <select class="form-control blueprintInput" 
                        name="visa status"
                        ng-model="make_blueprint.related_visa_status"
                        ng-options="option.id*1 as option.visa for option in visa_status_info">
                    <option value="" ng-show="false"></option>
                </select>
            </div>
        </div>
                <!--span class="new blueprintDescription"> Description </span>
                <textarea type="text"
                          rows="4" 
                          class="form-control"
                          name="description"
                          ng-model="make_blueprint.description"
                          required>
                </textarea-->
    <!--div class="col-md-12 col-sm-12" id="div1">
                <div class="tab-pane" id="tab2">
                    <table class="table">
                        <tbody>
                            <tr>
                                <td class="new"> Blueprint Name </td>
                                <td>
                                    <input type="text" 
                                           class="form-control" 
                                           name="name"
                                           ng-model="make_blueprint.name"
                                           required>
                                </td>
                                <td class="new"> Company Name </td>
                                <td>
                                    <input type="text" 
                                           name="company name"
                                           class="form-control"
                                           ng-model="make_blueprint.company_name"
                                           required>
                                </td>
                            </tr>
                            <tr>
                                <td class="new"> Description </td>
                                <td>
                                    <input type="text" 
                                           class="form-control"
                                           name="description"
                                           ng-model="make_blueprint.description"
                                           required>
                                </td>
                                <td class="new"> Qualification </td>
                                <td>
                                    <input type="text" 
                                           class="form-control"
                                           name="professional qualifications"
                                           ng-model="make_blueprint.professional_qualifications"
                                           required>
                                </td>
                            </tr>
                            </tbody>
                            </table>
                    </div>
                <div class="tab-pane" id="tab2">
                    <table class="table">
                        <tbody>
                            <tr>
                                <td class="new"> Industry </td>
                                <td>
                                    <select class="form-control" 
                                            name="job_industry"
                                            ng-model="make_blueprint.related_industry"
                                            ng-options="option.id*1 as option.type_industry for option in industry_info">
                                            <option value="" ng-show="false"></option>
                                    </select>
                                </td>
                                <td class="new"> Employer Size </td>
                                <td>
                                    <select class="form-control" 
                                            name="employer_size"
                                            ng-model="make_blueprint.related_company_type"
                                            ng-options="option.id*1 as option.types_of_company for option in company_type_info">
                                            <option value="" ng-show="false"></option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td class="new"> Job Function </td>
                                <td>
                                    <input type="text" 
                                           name="job function"
                                           class="form-control"
                                           ng-model="make_blueprint.function" 
                                           required>
                                </td>
                                <td class="new"> Experience </td>
                                <td>
                                    <select class="form-control" 
                                            name="experience info"
                                            ng-model="make_blueprint.related_experience"
                                            ng-options="option.id*1 as option.experience_level for option in experience_info">
                                            <option value="" ng-show="false"></option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td class="new"> Location </td>
                                <td>
                                    <select class="form-control" 
                                            name="location info"
                                            ng-model="make_blueprint.related_location"
                                            ng-options="option.id*1 as option.location for option in location_info">
                                            <option value="" ng-show="false"></option>
                                    </select>
                                </td>
                                <td class="new"> Job Type </td>
                                <td>
                                    <select class="form-control" 
                                            name="job type"
                                            ng-model="make_blueprint.related_job_type"
                                            ng-options="option.id*1 as option.employment for option in job_type_info">
                                            <option value="" ng-show="false"></option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td class="new"> Job Duration </td>
                                <td>
                                    <select class="form-control" 
                                            name="job duration"
                                            ng-model="make_blueprint.related_job_duration"
                                            ng-options="option.id*1 as option.job_duration for option in job_duration_info">
                                            <option value="" ng-show="false"></option>
                                    </select>
                                </td>
                                <td class="new"> On Success </td>
                                <td>
                                    <select class="form-control" 
                                            name="On success"
                                            ng-model="make_blueprint.related_on_success"
                                            ng-options="option.id*1 as option.success for option in on_job_success_info">
                                            <option value="" ng-show="false"></option>
                                    </select>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="tab-pane" id="tab3">
                    <table class="table">
                        <tbody>
                            <tr>
                                <td class="new"> Team ID </td>
                                <td>
                                    <input type="text" 
                                           name="team id"
                                           class="form-control"
                                           ng-model="make_blueprint.team_id" 
                                           required>
                                </td>
                                <td class="new"> Wait Interval </td>
                                <td>
                                    <select class="form-control" 
                                            name="wait interval"
                                            ng-model="make_blueprint.related_wait_interval"
                                            ng-options="option.id*1 as option.response_time for option in wait_interval_info">
                                            <option value="" ng-show="false"></option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td class="new"> Salary Range </td>
                                <td>
                                    <select class="form-control" 
                                            name="salary range"
                                            ng-model="make_blueprint.related_salary"
                                            ng-options="option.id*1 as option.sal_range for option in salary_info">
                                            <option value="" ng-show="false"></option>
                                    </select>
                                </td>
                                <td class="new"> Practice Limit </td>
                                <td>
                                    <input type="number" 
                                           name="practice limit"
                                           class="form-control"
                                           ng-model="make_blueprint.practice_limit" 
                                           required>
                                </td>
                            </tr>
                            <tr>
                                <td class="new"> Remote Work </td>
                                <td>
                                    <input type="text" 
                                           name="remote work"
                                           class="form-control"
                                           ng-model="make_blueprint.remote_work" 
                                           required>
                                </td>
                                <td class="new"> Visa Status </td>
                                <td>
                                    <select class="form-control" 
                                            name="visa status"
                                            ng-model="make_blueprint.related_visa_status"
                                            ng-options="option.id*1 as option.visa for option in visa_status_info">
                                            <option value="" ng-show="false"></option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td class="new"> Max Queue </td>
                                <td>
                                    <input type="number" 
                                           name="max queue"
                                           class="form-control"
                                           ng-model="make_blueprint.max_queue" 
                                           required>
                                </td>
                                <td class="new"> Download Url </td>
                                <td>
                                    <input type="text" 
                                           name="download url"
                                           class="form-control"
                                           ng-model="make_blueprint.url" 
                                           required>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="tab-pane" id="tab4">
                    <table class="table">
                        <tbody>
                            <center>
                                <div class="col-md-6 col-sm-6"> Tasks</br>
                                    <select class="form-control" style="width:50%;" id="selectTask">
                                        <option value="1">Closing the sales for a client</option>
                                        <option value="2">Making a cold call to the client</option>
                                        <option value="3">Addressing a customer with bad product experience</option>
                                        <option value="4">Escalating the issue to the manager</option>
                                        <option value="5">Explaining the product</option>
                                        <option value="6">Handling the branding question</option>
                                    </select>
                                </div>
                                <div class="col-md-6 col-sm-6"> Expert Ref</br>
                                    <input type="email" class="form-control"  style="width:50%;margin:2% 0%;" id="expId"/>
                                    <span class="btn btn-info" style="font-size:20px;margin-left:3%;" id="addNewRow">
                                        <b class="fa fa-plus-circle"></b>
                                    </span>
                                </div>
                                <table class="table" id="hiddenTable">
                                    <tbody>
                                        <tr>
                                            <td></td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </center>
                        </tbody>
                    </table>
                </div>
    </div-->
</div>

<!-- SMALL CANVAS MENU -->
<aside id="sidenav" class="sidenav" ng-controller='LogoutCtrl'>
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <span class="label-close" style="color: rgb(255,255,255); margin-top: -6px; margin-right: 12px;">CLOSE</span>
    <div class="">
        <h3>USER</h3>
    </div>
    <!--a data-ui-sref="root.dashboard">Dashboard</a-->
    <a class="menu-item">Profile</a>
    <a href='' class="menu-item" ng-click="logoutNow()">Logout</a>
</aside>

<script type="text/javascript">
(function() {

    var bodyEl = document.body,
        content = document.querySelector( '.content-wrap' ),
        openbtn = document.getElementById( 'open-button' ),
        closebtn = document.getElementById( 'close-button' ),
        isOpen = false;

    var filterBtn = document.getElementById('filter-btn');


    function init() {
        initEvents();
    }

    function initEvents() {
        openbtn.addEventListener( 'click', toggleMenu );
        if( closebtn ) {
            closebtn.addEventListener( 'click', toggleMenu );
        }

        // close the menu element if the target it´s not the menu element or one of its descendants..
        content.addEventListener( 'click', function(ev) {
            var target = ev.target;
            if( isOpen && target !== openbtn ) {
                toggleMenu();
            }
        } );
    }

    function toggleMenu() {
        if( isOpen ) {
            classie.remove( bodyEl, 'show-menu' );
            /*classie.remove(filterBtn, 'hide-button');*/
            // animate path
        }
        else {
            classie.add( bodyEl, 'show-menu' );
            /*classie.add(filterBtn, 'hide-button');*/
            // animate path
        }
        isOpen = !isOpen;
    }

    function fixMenu() {
        classie.remove(bodyEl, 'show-menu');
        /*classie.remove(filterBtn, 'hide-button');*/
    }

    init();
    var fixer = true;
    if(fixer) {
        $(window.location).trigger("change", fixMenu());
        fixer = false;
    }

})();    
</script>
<script>
$("#addNewRow").click(function(){
    var taskId = $('#selectTask').val();
    var taskName = $('#selectTask option:selected').text();
    var expertEmail = $('#expId').val();
    $('#selectTask').find('option[value='+taskId+']').attr('disabled','disabled');
    $('#hiddenTable tr:last').after("<tr><td><span class='btn btn-small btn-danger rembtn'><i class='fa fa-minus'></i></span></td><td><input type='text' value='"+taskName+"' class='form-control' readonly /><input type='hidden' name='task[]' value='"+taskId+"' class='form-control' readonly /></td><td><input type='email' name='expert_ref[]' value='"+expertEmail+"' class='form-control' readonly /></td></tr>");
    $('#expId').val('');
});
$("#hiddenTable").on('click','.rembtn',function(){
    var taskId = $(this).parent().parent('tr').find('td:eq(1)').find('input[type=hidden]').val();
    $('#selectTask').find('option[value='+taskId+']').attr('disabled',false);
    $(this).parent().parent('tr').remove();
});
    
$(document).ready(function() {
    $('#rootwizard').bootstrapWizard({onTabShow: function(tab, navigation, index) {
        var $total = navigation.find('li').length;
        var $current = index+1;
        var $percent = ($current/$total) * 100;
        $('#rootwizard .progress-bar').css({width:$percent+'%'});
    }});    
});
</script>